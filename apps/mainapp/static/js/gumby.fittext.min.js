!function(){"use strict";function e(e){Gumby.debug("Initializing FitText",e);this.$el=e;this.rate=0;this.fontSizes={};this.debugDelay=0;this.setup();var t=this;this.$el.on("gumby.initialize",function(){Gumby.debug("Re-initializing FitText",t.$el);t.setup();t.resize()});$(window).on("load resize orientationchange",function(){t.resize()});this.resize()}e.prototype.setup=function(){this.rate=Number(Gumby.selectAttr.apply(this.$el,["rate"]))||1;this.fontSizes=this.parseSizes(Gumby.selectAttr.apply(this.$el,["sizes"]))};e.prototype.resize=function(){var e=this.calculateSize(),t=this;this.$el.css("font-size",e);clearTimeout(this.debugDelay);this.debugDelay=setTimeout(function(){Gumby.debug("Updated font size to "+e+"px",t.$el)},200)};e.prototype.calculateSize=function(){return Math.max(Math.min(this.$el.width()/(this.rate*10),parseFloat(this.fontSizes.max)),parseFloat(this.fontSizes.min))};e.prototype.parseSizes=function(e){var t={min:Number.NEGATIVE_INFINITY,max:Number.POSITIVE_INFINITY};if(!e){return t}if(e.indexOf("|")>-1){e=e.split("|");t.min=Number(e[0])||t.min;t.max=Number(e[1])||t.max}t.min=Number(e)||t.min;return t};Gumby.addInitalisation("fittext",function(t){$(".fittext").each(function(){var n=$(this);if(n.data("isFittext")&&!t){return true}else if(n.data("isFittext")&&t){n.trigger("gumby.initialize");return true}n.data("isFittext",true);new e(n)})});Gumby.UIModule({module:"fittext",events:["initialize"],init:function(){Gumby.initialize("fittext")}})}()